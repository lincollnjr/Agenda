<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Trabalho 0 - Lincoln - Heitor by lincollnjr</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Trabalho 0 - Lincoln - Heitor</h1>
          <h2>Agenda em ruby implementando mvc e singleton</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/lincollnjr/Agenda/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/lincollnjr/Agenda/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/lincollnjr/Agenda" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="linguagem" class="anchor" href="#linguagem"><span class="octicon octicon-link"></span></a>Linguagem</h1>

<p><img src="http://compsci.ca/blog/wp-content/uploads/2007/04/ruby_logo.gif" alt="logo"></p>

<h2>
<a name="ruby" class="anchor" href="#ruby"><span class="octicon octicon-link"></span></a>Ruby</h2>

<ul>
<li>Linguagem tornada púbica em 1995;</li>
<li>Versão atual 2.1.1 (24/02/14)</li>
<li>Aplicações: Simulações da Nasa, Toronto Rehab na gestão de telefonia
e helpdesk, Morpha/Siemmens em controladores de robos, ODS atualização
de domínios e Telefonica em 3G, etc</li>
</ul><p>fonte: ruby-lang.org</p>

<h2>
<a name="caracteristicas" class="anchor" href="#caracteristicas"><span class="octicon octicon-link"></span></a>Caracteristicas</h2>

<ul>
<li>Orientada a Objeto e flexibilidade (não restrição);</li>
</ul><pre><code>1 - assim como em python a divisão de pacotes não é feita em
 pastas e sim arquivos;
2 - o singleton é feito com a importação require singleton;

</code></pre>

<h1>
<a name="padr%C3%B5es" class="anchor" href="#padr%C3%B5es"><span class="octicon octicon-link"></span></a>Padrões</h1>

<h3>
<a name="mvc" class="anchor" href="#mvc"><span class="octicon octicon-link"></span></a>MVC</h3>

<p><img src="http://www.macoratti.net/vbn_mvc4.gif" alt="Exemplo"></p>

<ul>
<li>Divisão em 3 camadas:
M: elementos do dominio e iteração de persistência;
V: Interação com o usuário;
C: controle da regra de negócio;</li>
</ul><pre><code>Vantagens:
* Facilita o reaproveitamento de código;
* Facilidade na manutenção e adição de recursos;
* Maior integração da equipe e/ou divisão de tarefas;
* Diversas tecnologias estão adotando essa arquitetura;
* Facilidade em manter o seu código sempre limpo;

</code></pre>

<h3>
<a name="singleton" class="anchor" href="#singleton"><span class="octicon octicon-link"></span></a>Singleton</h3>

<ul>
<li>Padrão de projeto para garantir a existência de uma instância;</li>
</ul><pre><code>require 'singleton'
 class Foobar
    include Singleton
end
</code></pre>

<h2>
<a name="diagrama-de-classes" class="anchor" href="#diagrama-de-classes"><span class="octicon octicon-link"></span></a>Diagrama de Classes</h2>

<p><img src="http://www.ivnmc.com.br/diagrama.png" alt="Diagrama"></p>

<h3>
<a name="app" class="anchor" href="#app"><span class="octicon octicon-link"></span></a>App</h3>

<pre><code>require_relative 'controler'

class main

        controle = ControleGeral.new()

        controle.run()

ends
</code></pre>

<h3>
<a name="model" class="anchor" href="#model"><span class="octicon octicon-link"></span></a>Model</h3>

<pre><code>require "singleton"
class Endereço
    def initiliaze(logradouro, numero, bairro, cidade, estado)
        @logradouro = logradouro
        @numero = numero
        @bairro = bairro
        @cidade = cidade
        @estado = estado
    end
    def to_s
        "Logradouro: #{@logradouro} Numero: #{@numero} Bairro: #{@bairro} Cidade: #{@cidade} Estado: #{@estado} \n"
    end
end
class Usuario
    def initiliaze(nome, idade, telefone, endereco)
        @nome = nome
        @idade = idade
        @telefone = telefone
        @endereco = endereco
    end
    def to_s
        "Nome: #{@nome} Idade: #{@idade} Telefone: #{@telefone} #{@endereco.to_s} "
    end
end
class Agenda
    include Singleton
    @listContatos = Array.new(50)
    def connect
        @connection = Adapter.connect
    end
    def getListContatos()
        return @listContatos
    end
end
</code></pre>

<h3>
<a name="view" class="anchor" href="#view"><span class="octicon octicon-link"></span></a>View</h3>

<pre><code>class Visao
    def imprimirMenu()
        puts "          Menu"
        puts " 1 - Cadastrar contato"
        puts " 2 - Listar os contatos"
        puts " 3 - Remover contatos"
        puts " 4 - Pesquisar contatos"
        puts " 5 - Sair"
    end
    def imprimirContato(user)
        puts(user)
    end
    def imprimirListaContato(listContatos)
        for contador in 0 .. 50
            puts listContatos[contador]
        end
    end
    def imprimirCadastroNome()
        puts "O nome do contato: "
    end
    def imprimirCadastroIdade()
        puts "A idade do contato: "
    end
    def imprimirCadastroTelefone()
        puts "O telefone do contato: "
    end
    def imprimirCadastroLogradouro()
        puts "O logradouro do endereco do contato: "
    end
    def imprimirCadastroNumero()
        puts "O número do endereco do contato: "
    end
    def imprimirCadastroBairro()
        puts "O bairro do endereco do contato: "
    end
    def imprimirCadastroCidade()
        puts "A cidade do endereco do contato: "
    end
    def imprimirCadastroEstado()
        puts "O Estado do endereco do contato: "
    end
    def imprimirDeletecontato()
        puts "O nome do contato a ser removido: "
    end
    def imprimirPesquisarContato()
        puts "O nome do contato a ser pesquisado: "
    end
    def imprimirContatoRemovido()
        puts "Contato removido."
    end
    def imprimirContatoNaoEncontrado()
        puts "Contato nao encontrado."
    end
    def imprimirSalveSucess()
        puts "Arquivo salvo com sucesso."
    end
end

class ControleVisao
    impressora = Visao.new()
    def capturarCadastroNome()
        impressora.imprimirCadastroNome
        entrada = gets()
        return entrada
    end
    def capturarCadastroIdade()
        impressora.imprimirCadastroIdade
        entrada = gets()
        return entrada
    end
    def capturarCadastroTelefone()
        impressora.imprimirCadastroTelefone
        entrada = gets()
        return entrada
    end
    def capturarCadastroLogradouro()
        impressora.imprimirCadastroLogradouro
        entrada = gets()
        return entrada
    end
    def capturarCadastroNumero()
        impressora.imprimirCadastroNumero
        entrada = gets()
        return entrada
    end
    def capturarCadastroBairro()
        impressora.imprimirCadastroBairro
        entrada = gets()
        return entrada
    end
    def capturarCadastroCidade()
        impressora.imprimirCadastroCidade
        entrada = gets()
        return entrada
    end
    def capturarCadastroEstado()
        impressora.imprimirCadastroEstado
        entrada = gets()
        return entrada
    end
end
</code></pre>

<h3>
<a name="controler" class="anchor" href="#controler"><span class="octicon octicon-link"></span></a>Controler</h3>

<pre><code>require_relative 'model.rb'
require_relative 'view.rb'

class Controle
    @posição = 0
    def adicionarContato(user,listContatos)
        if @posição &lt; 51
            listContatos[@posição](user)
            @posição = @posição + 1
        end
    end
    def procuraContato(listContatos, nome)
        for contador in 0 .. 50
            if listContatos[contador].@nome == nome
                return listContatos[contador]
            end
        end
    end
    def removeContato(listContatos, nome)
        @usuario = procuraContato(listContatos,nome)
        if @usuario != Nil
            listContatos.delete(@usuario)
    end 
end

class ControleGeral
    controle = Controle.new()
    capturas = ControleGeral.new()
    visao = Visao.new()
    agenda = Agenda.instance.connect
    def run()
        visao.imprimirMenu()
        @opcao = gets()
        while(true)
            case @opcao
            when 1              
                controle.adicionarContato(cadastraContato(),agenda.getListContatos)
                break
            when 2
                visao.imprimirListaContatos(agenda.getListContatos)
                break
            when 3
                controle.removeContato(agenda.getListContatos,capturas.capturaCadastroNome())
                break
            when 4
                controle.procuraContato(agenda.getListContatos,capturas.capturaCadastroNome())
                break
            when 5
                return
            end
        end
    end 
    def cadastraContato()
        return Usuario.new(capturas.capturaCadastroNome(), capturas.capturaCadastroIdade(), capturas.capturaCadastroTelefone(), cadastraEndereco())
    end
    def cadastraEndereco()
        return Endereco.new(capturas.capturaCadastroLogradouro(), capturas.capturaCadastroNumero(), capturas.capturaCadastroBairro(), capturas.cadastroCidade(), capturas.cadastroEstado())
    end
 end
</code></pre>
        </section>

        <footer>
          Trabalho 0 - Lincoln - Heitor is maintained by <a href="https://github.com/lincollnjr">lincollnjr</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>