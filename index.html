<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Trabalho 0 - Lincoln - Heitor by lincollnjr</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Trabalho 0 - Lincoln - Heitor</h1>
        <p>Agenda em ruby implementando mvc e singleton</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/lincollnjr/Agenda" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/lincollnjr/Agenda/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/lincollnjr/Agenda/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h3>
<a name="diagrama-de-classes" class="anchor" href="#diagrama-de-classes"><span class="octicon octicon-link"></span></a>Diagrama de Classes</h3>

<pre><code>![](http://www.ivnmc.com.br/diagrama.png)
</code></pre>

<h3>
<a name="app" class="anchor" href="#app"><span class="octicon octicon-link"></span></a>App</h3>

<pre><code>require_relative 'controler'

class main

        controle = ControleGeral.new()

        controle.run()

ends
</code></pre>

<h3>
<a name="model" class="anchor" href="#model"><span class="octicon octicon-link"></span></a>Model</h3>

<pre><code>require "singleton"
class Endereço
    def initiliaze(logradouro, numero, bairro, cidade, estado)
        @logradouro = logradouro
        @numero = numero
        @bairro = bairro
        @cidade = cidade
        @estado = estado
    end
    def to_s
        "Logradouro: #{@logradouro} Numero: #{@numero} Bairro: #{@bairro} Cidade: #{@cidade} Estado: #{@estado} \n"
    end
end
class Usuario
    def initiliaze(nome, idade, telefone, endereco)
        @nome = nome
        @idade = idade
        @telefone = telefone
        @endereco = endereco
    end
    def to_s
        "Nome: #{@nome} Idade: #{@idade} Telefone: #{@telefone} #{@endereco.to_s} "
    end
end
class Agenda
    include Singleton
    @listContatos = Array.new(50)
    def connect
        @connection = Adapter.connect
    end
    def getListContatos()
        return @listContatos
    end
end
</code></pre>

<h3>
<a name="view" class="anchor" href="#view"><span class="octicon octicon-link"></span></a>View</h3>

<pre><code>class Visao
    def imprimirMenu()
        puts "          Menu"
        puts " 1 - Cadastrar contato"
        puts " 2 - Listar os contatos"
        puts " 3 - Remover contatos"
        puts " 4 - Pesquisar contatos"
        puts " 5 - Sair"
    end
    def imprimirContato(user)
        puts(user)
    end
    def imprimirListaContato(listContatos)
        for contador in 0 .. 50
            puts listContatos[contador]
        end
    end
    def imprimirCadastroNome()
        puts "O nome do contato: "
    end
    def imprimirCadastroIdade()
        puts "A idade do contato: "
    end
    def imprimirCadastroTelefone()
        puts "O telefone do contato: "
    end
    def imprimirCadastroLogradouro()
        puts "O logradouro do endereco do contato: "
    end
    def imprimirCadastroNumero()
        puts "O número do endereco do contato: "
    end
    def imprimirCadastroBairro()
        puts "O bairro do endereco do contato: "
    end
    def imprimirCadastroCidade()
        puts "A cidade do endereco do contato: "
    end
    def imprimirCadastroEstado()
        puts "O Estado do endereco do contato: "
    end
    def imprimirDeletecontato()
        puts "O nome do contato a ser removido: "
    end
    def imprimirPesquisarContato()
        puts "O nome do contato a ser pesquisado: "
    end
    def imprimirContatoRemovido()
        puts "Contato removido."
    end
    def imprimirContatoNaoEncontrado()
        puts "Contato nao encontrado."
    end
    def imprimirSalveSucess()
        puts "Arquivo salvo com sucesso."
    end
end

class ControleVisao
    impressora = Visao.new()
    def capturarCadastroNome()
        impressora.imprimirCadastroNome
        entrada = gets()
        return entrada
    end
    def capturarCadastroIdade()
        impressora.imprimirCadastroIdade
        entrada = gets()
        return entrada
    end
    def capturarCadastroTelefone()
        impressora.imprimirCadastroTelefone
        entrada = gets()
        return entrada
    end
    def capturarCadastroLogradouro()
        impressora.imprimirCadastroLogradouro
        entrada = gets()
        return entrada
    end
    def capturarCadastroNumero()
        impressora.imprimirCadastroNumero
        entrada = gets()
        return entrada
    end
    def capturarCadastroBairro()
        impressora.imprimirCadastroBairro
        entrada = gets()
        return entrada
    end
    def capturarCadastroCidade()
        impressora.imprimirCadastroCidade
        entrada = gets()
        return entrada
    end
    def capturarCadastroEstado()
        impressora.imprimirCadastroEstado
        entrada = gets()
        return entrada
    end
end
</code></pre>

<h3>
<a name="controler" class="anchor" href="#controler"><span class="octicon octicon-link"></span></a>Controler</h3>

<pre><code>require_relative 'model.rb'
require_relative 'view.rb'

class Controle
    @posição = 0
    def adicionarContato(user,listContatos)
        if @posição &lt; 51
            listContatos[@posição](user)
            @posição = @posição + 1
        end
    end
    def procuraContato(listContatos, nome)
        for contador in 0 .. 50
            if listContatos[contador].@nome == nome
                return listContatos[contador]
            end
        end
    end
    def removeContato(listContatos, nome)
        @usuario = procuraContato(listContatos,nome)
        if @usuario != Nil
            listContatos.delete(@usuario)
    end 
end

class ControleGeral
    controle = Controle.new()
    capturas = ControleGeral.new()
    visao = Visao.new()
    agenda = Agenda.instance.connect
    def run()
        visao.imprimirMenu()
        @opcao = gets()
        while(true)
            case @opcao
            when 1              
                controle.adicionarContato(cadastraContato(),agenda.getListContatos)
                break
            when 2
                visao.imprimirListaContatos(agenda.getListContatos)
                break
            when 3
                controle.removeContato(agenda.getListContatos,capturas.capturaCadastroNome())
                break
            when 4
                controle.procuraContato(agenda.getListContatos,capturas.capturaCadastroNome())
                break
            when 5
                return
            end
        end
    end 
    def cadastraContato()
        return Usuario.new(capturas.capturaCadastroNome(), capturas.capturaCadastroIdade(), capturas.capturaCadastroTelefone(), cadastraEndereco())
    end
    def cadastraEndereco()
        return Endereco.new(capturas.capturaCadastroLogradouro(), capturas.capturaCadastroNumero(), capturas.capturaCadastroBairro(), capturas.cadastroCidade(), capturas.cadastroEstado())
    end
 end
</code></pre>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/lincollnjr">lincollnjr</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>